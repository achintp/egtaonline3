<div id = "set">
	<h1>Set Arguments</h1>
	<%= form_tag(analyze_game_path, remote: true, role: "form") do%>
		<fieldset id = "runtime"><!--Run Time Paramater-->
			<legend>Set Script Running Time:</legend>
			<%= select_tag "day", options_for_select((0..7).step(1)) %>day(s)
			<%= select_tag "hour", options_for_select((0..23).step(1), 6) %>hour(s)
			<%= select_tag "min", options_for_select((0..59).step(1)) %>minutue(s)
		</fieldset><!--End of run time paramater-->
		
		<fieldset id = "reduced"><!--Reduced Scripts' Arguments -->
			<div>
				<%= label_tag('enable_reduced', 'Enable Reduced Script') %>
				<%= check_box_tag('enable_reduced', 'enable_reduced' , true)%>
			</div>
			<hr>
			<legend>Reduced Script Arguments:</legend>
			<div>
				<label for="reduced_mode">Reduced Mode:</label>	
				<%= radio_button_tag(:reduced_mode, "DPR", true, class: "reduced_input") %>
				<%= label_tag(:reduced_mode_dpr, "DPR") %>
				<%= radio_button_tag(:reduced_mode, "HR", false, class: "reduced_input") %>
				<%= label_tag(:reduced_mode_tr, "HR") %>
			</div>
			<!-- role names should be in aphabetical order-->
			<div>Reduced Number of Player in Each Role:</div>	
				<% game.roles.each do |role| %>
				<% @name = role.name%>
				<% @count = role.count %>

			<div class="form-group">
				<%= label_tag(@name, @name) %>	
				<%= number_field_tag(@name, @count, in: 1...@count + 1 , class: "reduced_input")%>
			</div>
			<% end %>
		</fieldset><!-- End of Reduced Scripts' Arguments -->
		
		<fieldset id = "analysis"><!-- Analysis Scripts' Arguments -->	
			<legend>Analysis Script Arguments:</legend>
			
			<div><!--Subgame argument --><!-- "Will be overwritten with new subgames."-->	
				<%= label_tag("enable_subgame", "Run analysis with subgames") %>	
				<%= check_box_tag('enable_subgame', 'enable_subgame', true)%>
			</div><!--End of subgame argument -->

			<hr>
			<%= label_tag("regret", "Max allowed regret for approximate Nash equilibria:") %>
			<%= number_field_tag("regret", 1e-3, {step:0.001, min:0})%>
			<%= label_tag("dist", "L2-distance threshold to consider equilibria distinct:") %>
			<%= number_field_tag("dist", 1e-3, {step:0.001,min:0})%>
			<%= label_tag("support", "Min probability for a strategy to be considered in support:") %>
			<%= number_field_tag("support", 1e-3, {step:0.001,min:0})%>
			<%= label_tag("converge", "Replicator dynamics convergence threshold:") %>
			<%= number_field_tag("converge", 1e-8,{step:1e-8, min:0,class: "enable"})%>
			<%= label_tag("iters", "Max replicator dynamics iterations:") %>
			<%= number_field_tag("iters", 10000, {step:1, min:0, class: "enable"})%>
			
		</fieldset><!-- End of Analysis Scripts' Arguments -->	
		<br />
	<%= submit_tag("Set Arguments")%>
	<% end %>
</div>
<div id = "processing">
	<h1>Analyzing...</h1>
	<p>We will send you an email when the anlyasis output is ready. Please click the link at the game page to download your file.</p>
</div>